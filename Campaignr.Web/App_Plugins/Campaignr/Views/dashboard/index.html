<div id="campaignAdmin" ng-controller="Umbraco.Dashboard.cmDashboardController as vm" class="camman-admin">
    <umb-load-indicator ng-show="vm.loading"></umb-load-indicator>
    <div ng-hide="vm.loading">
        <div class="row-fluid" ng-show="vm.invalidSetUp">
            <umb-box style="border:solid 1px red">
                <umb-box-content>
                    <div style="padding: 10px;">
                        <p>There settings entered are invalid, this may be because you've just installed the plugin. Go to the settings page to enter in your API details and get started.</p>
                        <a ng-click="vm.goTo(dashboard, 'settings')" class="btn btn-success">Settings</a>
                    </div>
                </umb-box-content>
            </umb-box>
        </div>
        <div class="row-fluid">
            <umb-box>
                <umb-box-content>
                    <div class="span12" style="padding: 10px;">
                        <div class="row-fluid">
                            <div class="span10">
                                <h1>Campaignr Dashboard</h1>
                            </div>
                            <div class="span2" style="text-align:right;">
                                <a href="{{vm.link}}" ng-show="vm.link" target="_blank" class="btn btn-success">Create New Campaign</a>
                            </div>
                        </div>
                    </div>
                    <div style="padding: 10px;">
                        <p>Campaignr is an all-in-one marketing platform that helps you manage and talk to your clients, customers, and other interested parties. Offering email marketing & automation services to companies who are ready to make the most of email marketing and marketing automation.</p>
                    </div>
                </umb-box-content>
            </umb-box>
        </div>
        <div class="row-fluid" ng-show="!vm.invalidSetUp">
            <div class="span3 stat-pod theme-blue" style="padding: 10px;">
                <umb-box>
                    <umb-box-content>
                        <div>
                            <p><span>{{vm.stats.TotalSentCampaigns}}</span>Campaigns Launched</p>
                        </div>
                    </umb-box-content>
                </umb-box>
            </div>
            <div class="span3 stat-pod theme-green" style="padding: 10px;">
                <umb-box>
                    <umb-box-content>
                        <div>
                            <p><span>{{vm.stats.OpenRate}}%</span>Overall open rate</p>
                        </div>
                    </umb-box-content>
                </umb-box>
            </div>
            <div class="span3 stat-pod theme-brown" style="padding: 10px;">
                <umb-box>
                    <umb-box-content>
                        <div>
                            <p><span>{{vm.stats.ClickRate}}%</span>Overall click rate</p>
                        </div>
                    </umb-box-content>
                </umb-box>
            </div>
            <div class="span3 stat-pod theme-pink" style="padding: 10px;">
                <umb-box title="{{vm.stats.Subscribers}} Total subscribers">
                    <umb-box-content>
                        <div>
                            <p><span>{{vm.stats.RoundedSubscribers}}</span> Total subscribers</p>
                        </div>
                </umb-box>
            </div>
        </div>
        <div class="row-fluid" ng-show="!vm.invalidSetUp">
            <umb-box>
                <umb-box-content>
                    <h3>Live Campaigns ({{vm.stats.Campaigns.length}})</h3>
                    <div class="umb-table" ng-if="vm.stats.Campaigns" ng-class="umb-table-inactive">
                        <div class="umb-table-head">
                            <div class="umb-table-row">
                                <div class="umb-table-cell flx-s1 flx-g1 flx-b1"></div>
                                <div class="umb-table-cell title not-fixed flx-s1 flx-g1 flx-b4">Name</div>
                                <div class="umb-table-cell title not-fixed flx-s1 flx-g1 flx-b1">Status</div>
                                <div class="umb-table-cell title not-fixed flx-s1 flx-g1 flx-b1">Date Created</div>
                                <div class="umb-table-cell title not-fixed flx-s1 flx-g1 flx-b1">Send Date</div>
                                <div class="umb-table-cell flx-s1 flx-g1 flx-b1 items-center"></div>
                            </div>
                        </div>
                        <div class="umb-table-body">
                            <div class="umb-table-row -solid" ng-repeat="item in vm.stats.Campaigns">
                                <div class="umb-table-cell flx-s1 flx-g1 flx-b1 items-center {{item.Status | getCampaignStatusClass}}">
                                    <i class="umb-table-body__icon umb-table-body__fileicon {{item.Status | getCampaignIcon}}"></i>
                                </div>
                                <div class="umb-table-cell title not-fixed flx-s1 flx-g1 flx-b4">
                                    {{item.Name}}
                                </div>
                                <div class="umb-table-cell status title not-fixed flx-s1 flx-g1 flx-b1 {{item.Status | getCampaignStatusClass}}">
                                    {{item.Status | getCampaignStatus}}
                                </div>
                                <div class="umb-table-cell title not-fixed flx-s1 flx-g1 flx-b1">
                                    {{item.CreateDate | getCustomDate}}
                                </div>
                                <div class="umb-table-cell title not-fixed flx-s1 flx-g1 flx-b1">
                                    {{item.ScheduledDate | getCustomDate}}
                                </div>
                                <div class="umb-table-cell flx-s1 flx-g1 flx-b1 items-center {{item.Status | getCampaignStatusClass}}">
                                </div>
                            </div>
                        </div>
                    </div>
                </umb-box-content>
            </umb-box>
        </div>
    </div>
</div>
